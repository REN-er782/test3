import streamlit as st
import json
from datetime import datetime

# ãƒšãƒ¼ã‚¸è¨­å®š
st.set_page_config(
    page_title="æ‰¶é¤Šæ§é™¤ åˆ¤å®šãƒ•ãƒ­ãƒ¼", 
    layout="wide",
    initial_sidebar_state="expanded"
)

class TaxDeductionCalculator:
    """æ‰¶é¤Šæ§é™¤åˆ¤å®šã®ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹"""
    
    def __init__(self):
        self.results = {}
    
    def get_spouse_result(self, main_income_high, spouse_income_range):
        """é…å¶è€…ã®åˆ¤å®šçµæœã‚’å–å¾—"""
        if main_income_high:
            result_map = {
                "å¹´åï¼š123ä¸‡å††ä»¥ä¸‹": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š123ä¸‡å††è¶…ã€œ130ä¸‡å††æœªæº€": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š130ä¸‡å††è¶…ã€œ160ä¸‡å††æœªæº€": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š160ä¸‡å††è¶…ã€œ201ä¸‡å††æœªæº€": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦"),
                "å¹´åï¼š201ä¸‡å††è¶…": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦"),
            }
        else:
            result_map = {
                "å¹´åï¼š123ä¸‡å††ä»¥ä¸‹": ("âœ… é…å¶è€…æ§é™¤å¯¾è±¡", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š123ä¸‡å††è¶…ã€œ130ä¸‡å††æœªæº€": ("âœ… é…å¶è€…ç‰¹åˆ¥æ§é™¤å¯¾è±¡", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š130ä¸‡å††è¶…ã€œ160ä¸‡å††æœªæº€": ("âœ… é…å¶è€…ç‰¹åˆ¥æ§é™¤å¯¾è±¡", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š160ä¸‡å††è¶…ã€œ201ä¸‡å††æœªæº€": ("âœ… é…å¶è€…ç‰¹åˆ¥æ§é™¤å¯¾è±¡ï¼ˆæ®µéšçš„ï¼‰", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦"),
                "å¹´åï¼š201ä¸‡å††è¶…": ("âœ… é…å¶è€…ç‰¹åˆ¥æ§é™¤å¯¾è±¡ï¼ˆæ®µéšçš„ï¼‰", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦"),
            }
        return result_map.get(spouse_income_range, ("âŒ åˆ¤å®šä¸å¯", "âŒ åˆ¤å®šä¸å¯", "âŒ åˆ¤å®šä¸å¯"))
    
    def get_dependent_result(self, age_group, income_range):
        """æ‰¶é¤Šè¦ªæ—ã®åˆ¤å®šçµæœã‚’å–å¾—"""
        if age_group == "16æ­³ä»¥ä¸‹":
            return ("âŒ æ§é™¤å¯¾è±¡å¤–ï¼ˆâ€»ä½æ°‘ç¨ã¯æ§é™¤å¯¾è±¡ âœ…ï¼‰", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦")
        
        if age_group == "19æ­³ä»¥ä¸Š23æ­³æœªæº€":
            result_map = {
                "å¹´åï¼š123ä¸‡å††ä»¥ä¸‹": ("âœ… æ§é™¤å¯¾è±¡æ‰¶é¤Šè¦ªæ—", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š123ä¸‡å††è¶…ã€œ130ä¸‡å††æœªæº€": ("âœ… ç‰¹å®šæ‰¶é¤Šæ§é™¤å¯¾è±¡", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š130ä¸‡å††è¶…ã€œ160ä¸‡å††æœªæº€": ("âœ… ç‰¹å®šæ‰¶é¤Šæ§é™¤å¯¾è±¡", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š160ä¸‡å††è¶…ã€œ188ä¸‡å††æœªæº€": ("âœ… ç‰¹å®šæ‰¶é¤Šæ§é™¤å¯¾è±¡ï¼ˆæ®µéšçš„ï¼‰", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦"),
                "å¹´åï¼š188ä¸‡å††è¶…": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦")
            }
        else:
            result_map = {
                "å¹´åï¼š123ä¸‡å††ä»¥ä¸‹": ("âœ… æ§é™¤å¯¾è±¡æ‰¶é¤Šè¦ªæ—", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š123ä¸‡å††è¶…ã€œ130ä¸‡å††æœªæº€": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š130ä¸‡å††è¶…ã€œ160ä¸‡å††æœªæº€": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"),
                "å¹´åï¼š160ä¸‡å††è¶…ã€œ188ä¸‡å††æœªæº€": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦"),
                "å¹´åï¼š188ä¸‡å††è¶…": ("âŒ æ§é™¤å¯¾è±¡å¤–", "âŒ è¢«æ‰¶é¤Šè€…å¯¾è±¡å¤–", "âŒ å®¶æ—æ‰‹å½“ä¸æ”¯çµ¦")
            }
        return result_map.get(income_range, ("âŒ åˆ¤å®šä¸å¯", "âŒ åˆ¤å®šä¸å¯", "âŒ åˆ¤å®šä¸å¯"))

@st.cache_data
def load_help_content():
    """ãƒ˜ãƒ«ãƒ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’èª­ã¿è¾¼ã¿"""
    return {
        "é…å¶è€…æ§é™¤": "å¹´å103ä¸‡å††ä»¥ä¸‹ã®é…å¶è€…ã«å¯¾ã™ã‚‹æ‰€å¾—æ§é™¤ã§ã™ã€‚æœ¬äººã®å¹´åãŒ1,000ä¸‡å††ä»¥ä¸Šã®å ´åˆã¯é©ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚",
        "é…å¶è€…ç‰¹åˆ¥æ§é™¤": "å¹´å103ä¸‡å††è¶…201ä¸‡å††ä»¥ä¸‹ã®é…å¶è€…ã«å¯¾ã™ã‚‹æ‰€å¾—æ§é™¤ã§ã™ã€‚åå…¥ã«å¿œã˜ã¦æ®µéšçš„ã«æ§é™¤é¡ãŒæ±ºã¾ã‚Šã¾ã™ã€‚",
        "è¢«æ‰¶é¤Šè€…": "å¥åº·ä¿é™ºã«ãŠã„ã¦ã€å¹´å130ä¸‡å††æœªæº€ï¼ˆ60æ­³ä»¥ä¸Šã¾ãŸã¯éšœå®³è€…ã¯180ä¸‡å††æœªæº€ï¼‰ã®å®¶æ—ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚",
        "ç‰¹å®šæ‰¶é¤Šæ§é™¤": "19æ­³ä»¥ä¸Š23æ­³æœªæº€ã®æ‰¶é¤Šè¦ªæ—ã«å¯¾ã™ã‚‹æ‰€å¾—æ§é™¤ã§ã€é€šå¸¸ã®æ‰¶é¤Šæ§é™¤ã‚ˆã‚Šæ§é™¤é¡ãŒå¤§ãããªã‚Šã¾ã™ã€‚"
    }

def display_help_section():
    """ãƒ˜ãƒ«ãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º"""
    with st.sidebar:
        st.subheader("ğŸ“– ç”¨èªèª¬æ˜")
        help_content = load_help_content()
        
        for term, explanation in help_content.items():
            with st.expander(f"ğŸ’¡ {term}"):
                st.write(explanation)

def export_results(results_data):
    """çµæœã‚’JSONå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"""
    results_json = json.dumps(results_data, ensure_ascii=False, indent=2)
    st.download_button(
        label="ğŸ“¥ åˆ¤å®šçµæœã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
        data=results_json,
        file_name=f"æ‰¶é¤Šåˆ¤å®šçµæœ_{datetime.now().strftime('%Y%m%d_%H%M%S')}.json",
        mime="application/json"
    )

def validate_inputs(person_type, **kwargs):
    """å…¥åŠ›å€¤ã®æ¤œè¨¼"""
    errors = []
    
    if person_type == "spouse":
        if "main_income" not in kwargs or kwargs["main_income"] is None:
            errors.append("æœ¬äººã®å¹´åã‚’é¸æŠã—ã¦ãã ã•ã„")
        if "spouse_income" not in kwargs or kwargs["spouse_income"] is None:
            errors.append("é…å¶è€…ã®å¹´åã‚’é¸æŠã—ã¦ãã ã•ã„")
    
    elif person_type == "dependent":
        if "age_group" not in kwargs or kwargs["age_group"] is None:
            errors.append("å¯¾è±¡è€…ã®å¹´é½¢ã‚’é¸æŠã—ã¦ãã ã•ã„")
        if kwargs.get("age_group") != "16æ­³ä»¥ä¸‹" and ("income" not in kwargs or kwargs["income"] is None):
            errors.append("å¯¾è±¡è€…ã®å¹´åã‚’é¸æŠã—ã¦ãã ã•ã„")
    
    return errors

def main():
    # ã‚¿ã‚¤ãƒˆãƒ«
    st.title("ğŸ§¾ æ‰‹å½“ãƒ»å¥ä¿ãƒ»ç¨æ§é™¤ã€€ã‹ã‚“ãŸã‚“åˆ¤å®šãƒ•ãƒ­ãƒ¼")
    
    # æ³¨æ„æ›¸ã
    st.markdown(
        "â€» ç¨ã®æ‰€å¾—æ§é™¤ã€å¥åº·ä¿é™ºã®è¢«æ‰¶é¤Šè€…èªå®šã€"
        "å®¶æ—æ‰‹å½“æ”¯çµ¦ã®å¯å¦ã‚’ç°¡æ˜“çš„ã«åˆ¤å®šã™ã‚‹ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚å¹´åã¯çµ¦ä¸ã«ã‚ˆã‚‹åå…¥ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚"
        "å¹´é‡‘ã®å ´åˆã‚„ã€éšœå®³è€…ã®å ´åˆç­‰ã¯å¤‰ã‚ã£ã¦ãã¾ã™ã®ã§ã€è©³ç´°ã¯åˆ¶åº¦ã”ã¨ã®åŸºæº–ã‚’ã”ç¢ºèªãã ã•ã„ã€‚"
    )
    
    # ãƒ˜ãƒ«ãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³
    display_help_section()
    
    # è¨ˆç®—æ©Ÿã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
    calculator = TaxDeductionCalculator()
    
    st.markdown("---")
    
    # ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    col1, col2 = st.columns([1, 1])
    
    with col1:
        st.markdown("### ã€é…å¶è€…ã«é–¢ã™ã‚‹åˆ¤å®šã€‘")
        
        # STEP 1
        st.subheader("STEP 1ï¼šå¯¾è±¡è€…ã¯é…å¶è€…ã§ã™ã‹ï¼Ÿ")
        is_spouse = st.radio("", ["ã¯ã„", "ã„ã„ãˆ"], key="spouse_radio")
        
        if is_spouse == "ã„ã„ãˆ":
            st.warning("â–¶ è¦ªæ—ãƒ»å­ã©ã‚‚ã«é–¢ã™ã‚‹åˆ¤å®šã¸é€²ã‚“ã§ãã ã•ã„")
        
        # é…å¶è€…ãƒ‘ãƒ¼ãƒˆ
        if is_spouse == "ã¯ã„":
            # STEP 2
            st.subheader("STEP 2ï¼šæœ¬äººã®å¹´é–“åå…¥ã¯1,000ä¸‡å††ä»¥ä¸Šã§ã™ã‹ï¼Ÿ")
            income_high_option = st.radio("æœ¬äººã®å¹´åã¯ï¼Ÿ", ["1,000ä¸‡å††æœªæº€", "1,000ä¸‡å††ä»¥ä¸Š"], key="main_income_radio")
            income_high = (income_high_option == "1,000ä¸‡å††ä»¥ä¸Š")
            
            # STEP 3
            st.subheader("STEP 3ï¼šé…å¶è€…ã®å¹´é–“åå…¥ï¼ˆç›®å®‰ï¼‰")
            income_range = st.selectbox(
                "é…å¶è€…ã®å¹´åãƒ¬ãƒ³ã‚¸ã‚’é¸æŠã—ã¦ãã ã•ã„", [
                    "é¸æŠã—ã¦ãã ã•ã„",
                    "å¹´åï¼š123ä¸‡å††ä»¥ä¸‹",
                    "å¹´åï¼š123ä¸‡å††è¶…ã€œ130ä¸‡å††æœªæº€",
                    "å¹´åï¼š130ä¸‡å††è¶…ã€œ160ä¸‡å††æœªæº€",
                    "å¹´åï¼š160ä¸‡å††è¶…ã€œ201ä¸‡å††æœªæº€",
                    "å¹´åï¼š201ä¸‡å††è¶…"
                ],
                key="spouse_income_select"
            )
            
            # å…¥åŠ›æ¤œè¨¼
            validation_errors = validate_inputs("spouse", 
                                              main_income=income_high_option, 
                                              spouse_income=income_range if income_range != "é¸æŠã—ã¦ãã ã•ã„" else None)
            
            if validation_errors:
                for error in validation_errors:
                    st.error(f"âš ï¸ {error}")
            elif income_range != "é¸æŠã—ã¦ãã ã•ã„":
                # åˆ¤å®šçµæœã®å–å¾—ã¨è¡¨ç¤º
                tax_result, health_result, allowance_result = calculator.get_spouse_result(income_high, income_range)
                
                st.success(f"""
**åˆ¤å®šçµæœï¼š**
- æ‰€å¾—æ§é™¤ï¼š{tax_result}
- å¥åº·ä¿é™ºï¼š{health_result}
- å®¶æ—æ‰‹å½“ï¼š{allowance_result}
""")
                
                # çµæœã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã«ä¿å­˜
                st.session_state.spouse_results = {
                    "åˆ¤å®šæ—¥æ™‚": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
                    "å¯¾è±¡è€…": "é…å¶è€…",
                    "æœ¬äººå¹´å": income_high_option,
                    "é…å¶è€…å¹´å": income_range,
                    "æ‰€å¾—æ§é™¤": tax_result,
                    "å¥åº·ä¿é™º": health_result,
                    "å®¶æ—æ‰‹å½“": allowance_result
                }
    
    with col2:
        st.markdown("### ã€è¦ªæ—ãƒ»å­ã©ã‚‚ã«é–¢ã™ã‚‹åˆ¤å®šã€‘")
        
        st.subheader("STEP 2ï¼šå¯¾è±¡è€…ã®å¹´é½¢")
        age_group = st.selectbox("å¯¾è±¡è€…ã®å¹´é½¢å±¤ã¯ï¼Ÿ", [
            "é¸æŠã—ã¦ãã ã•ã„",
            "16æ­³ä»¥ä¸‹",
            "19æ­³ä»¥ä¸Š23æ­³æœªæº€",
            "16æ­³ä»¥ä¸Š18æ­³æœªæº€ã‚‚ã—ãã¯23æ­³ä»¥ä¸Š"
        ], key="age_select")
        
        if age_group == "16æ­³ä»¥ä¸‹":
            st.info(
                "æ‰€å¾—æ§é™¤ï¼šâŒ æ§é™¤å¯¾è±¡å¤–ï¼ˆâ€»ä½æ°‘ç¨ã¯æ§é™¤å¯¾è±¡ âœ…ï¼‰  \n"
                "å¥åº·ä¿é™ºï¼šâœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡  \n"
                "å®¶æ—æ‰‹å½“ï¼šâœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"
            )
            
            # çµæœã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã«ä¿å­˜
            st.session_state.dependent_results = {
                "åˆ¤å®šæ—¥æ™‚": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
                "å¯¾è±¡è€…": "è¦ªæ—ãƒ»å­ã©ã‚‚",
                "å¹´é½¢å±¤": age_group,
                "å¹´å": "è©²å½“ãªã—",
                "æ‰€å¾—æ§é™¤": "âŒ æ§é™¤å¯¾è±¡å¤–ï¼ˆâ€»ä½æ°‘ç¨ã¯æ§é™¤å¯¾è±¡ âœ…ï¼‰",
                "å¥åº·ä¿é™º": "âœ… è¢«æ‰¶é¤Šè€…å¯¾è±¡",
                "å®¶æ—æ‰‹å½“": "âœ… å®¶æ—æ‰‹å½“æ”¯çµ¦"
            }
            
        elif age_group and age_group != "é¸æŠã—ã¦ãã ã•ã„":
            st.subheader("STEP 3ï¼šå¯¾è±¡è€…ã®å¹´é–“åå…¥ï¼ˆç›®å®‰ï¼‰")
            income_child = st.selectbox(
                "",
                [
                    "é¸æŠã—ã¦ãã ã•ã„",
                    "å¹´åï¼š123ä¸‡å††ä»¥ä¸‹",
                    "å¹´åï¼š123ä¸‡å††è¶…ã€œ130ä¸‡å††æœªæº€",
                    "å¹´åï¼š130ä¸‡å††è¶…ã€œ160ä¸‡å††æœªæº€",
                    "å¹´åï¼š160ä¸‡å††è¶…ã€œ188ä¸‡å††æœªæº€",
                    "å¹´åï¼š188ä¸‡å††è¶…"
                ],
                key="child_income_select"
            )
            
            # å…¥åŠ›æ¤œè¨¼
            validation_errors = validate_inputs("dependent", 
                                              age_group=age_group, 
                                              income=income_child if income_child != "é¸æŠã—ã¦ãã ã•ã„" else None)
            
            if validation_errors:
                for error in validation_errors:
                    st.error(f"âš ï¸ {error}")
            elif income_child != "é¸æŠã—ã¦ãã ã•ã„":
                # åˆ¤å®šçµæœã®å–å¾—ã¨è¡¨ç¤º
                tax_result, health_result, allowance_result = calculator.get_dependent_result(age_group, income_child)
                
                st.success(f"""
**åˆ¤å®šçµæœï¼š**
- æ‰€å¾—æ§é™¤ï¼š{tax_result}
- å¥åº·ä¿é™ºï¼š{health_result}
- å®¶æ—æ‰‹å½“ï¼š{allowance_result}
""")
                
                # çµæœã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã«ä¿å­˜
                st.session_state.dependent_results = {
                    "åˆ¤å®šæ—¥æ™‚": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
                    "å¯¾è±¡è€…": "è¦ªæ—ãƒ»å­ã©ã‚‚",
                    "å¹´é½¢å±¤": age_group,
                    "å¹´å": income_child,
                    "æ‰€å¾—æ§é™¤": tax_result,
                    "å¥åº·ä¿é™º": health_result,
                    "å®¶æ—æ‰‹å½“": allowance_result
                }
    
    # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
    st.markdown("---")
    st.subheader("ğŸ“¤ çµæœã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ")
    
    export_data = {}
    if hasattr(st.session_state, 'spouse_results'):
        export_data["é…å¶è€…ã®åˆ¤å®šçµæœ"] = st.session_state.spouse_results
    if hasattr(st.session_state, 'dependent_results'):
        export_data["è¦ªæ—ãƒ»å­ã©ã‚‚ã®åˆ¤å®šçµæœ"] = st.session_state.dependent_results
    
    if export_data:
        export_results(export_data)
        st.success("âœ… åˆ¤å®šçµæœãŒä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚ä¸Šè¨˜ãƒœã‚¿ãƒ³ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚")
    else:
        st.info("â„¹ï¸ åˆ¤å®šã‚’å®Œäº†ã™ã‚‹ã¨ã€çµæœã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚")

if __name__ == "__main__":
    main()
